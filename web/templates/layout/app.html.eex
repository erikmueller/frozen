<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <%=
      render_existing(@view_module, "meta." <> @view_template, assigns) ||
      render(JellyShot.LayoutView, "meta.html", assigns)
    %>

    <style>
      /* Critical CSS */
      @font-face {
        font-family: 'Oxygen Mono'; font-style: normal;
        font-weight: 400;
        src:
          local('Oxygen Mono'), local('OxygenMono-Regular'),
          url('../fonts/oxygen-mono-v5-latin-regular.woff2') format('woff2'), url('../fonts/oxygen-mono-v5-latin-regular.woff') format('woff');
      }
      * {-webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; }
      body { font-family: Helvetica, sans-serif; color: #444; line-height: 1.7em; margin: 0; }

      a { text-decoration: none; color: #ef7900; }
      a:hover, a:focus { text-decoration: none; }
    </style>

    <link rel="stylesheet" href="<%= static_path(@conn, "/css/bundle.css") %>">
    <link rel="stylesheet" href="<%= static_path(@conn, "/css/desktop.css") %>" media="(min-width: 768px)">
    <link rel="stylesheet" href="<%= static_path(@conn, "/css/print.css") %>" media="print">
  </head>

  <body>
    <div class="sidebar">
      <div class="header">
        <div class="blog-avatar">
          <img src="<%= static_path(@conn, "/assets/me.jpg") %>" alt="Erik M&uuml;ller"/>
        </div>

        <a href="/"><h1 class="blog-title">slack</h1></a>
        <h2 class="blog-tagline">overflow</h2>

        <nav>
          <ul class="nav-list">
            <%= for category <- get_categories() do %>
              <li class="nav-list-item nav-list-item-category">
                <a href="/posts?category=<%= category %>"><%= category %></a>
              </li>
            <% end %>
          </ul>
        </nav>
      </div>
    </div>

    <%= render @view_module, @view_template, assigns %>

    <div class="footer">
      <ul class="nav-list">
        <li class="nav-list-item nav-list-item-social">
          <i class="fab fa-twitter-square"></i>
          <a target="_blank" href="http://twitter.com/air2ick/">Twitter</a>
        </li>
        <li class="nav-list-item nav-list-item-social">
          <i class="fab fa-github-square"></i>
          <a target="_blank" href="http://github.com/erikmueller/">GitHub</a>
        </li>
        <li class="nav-list-item nav-list-item-social">
          <i class="fab fa-angellist"></i>
          <a href="/pages/cv">Curriculum Vitae</a>
        </li>
      </ul>
    </div>

    <script src="<%= static_path(@conn, "/js/bundle.js") %>"></script>
    <script type="text/javascript">
      document.querySelector('head').insertAdjacentHTML('beforeend', '<link rel="stylesheet" href="<%= static_path(@conn, "/css/vendor.css") %>" />')
    </script>
  </body>
</html>
